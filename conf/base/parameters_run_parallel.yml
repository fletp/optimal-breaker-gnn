# This is a boilerplate parameters config generated for pipeline 'run_parallel'
# using Kedro 0.18.13.
#
# Documentation for this file format can be found in "Parameters"
# Link: https://docs.kedro.org/en/0.18.13/configuration/parameters.html

slurm:
  ruse: False
  sbatch:
    job-name: ng-graph
    output: slurm_logs/*.%j.out # Note use of * wildcard to be replaced with job-name
    error: slurm_logs/*.%j.err
    mail-user: passow@stanford.edu
    mail-type: ALL
    partition: serc
    mem: 16GB
    ntasks: 2 # I believe that this is what we need for SequentialRunner, while ParallelRunner needs n_examples + 1
    cpus-per-task: 3
    time: 2-00:00
    array: 100-2400:100
  n_sequential_jobs: 1
  kedro:
    pipeline: train
    runner: SequentialRunner
    to-nodes: train_model
    params: "dataloaders.splits.train.n_examples_from_frac:$SLURM_ARRAY_TASK_ID"